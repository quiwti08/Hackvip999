loadstring([==[

local Players, UIS, Run, VU = game:GetService("Players"), game:GetService("UserInputService"), game:GetService("RunService"), game:GetService("VirtualUser")
local LP, Mouse, Cam = Players.LocalPlayer, Players.LocalPlayer:GetMouse(), workspace.CurrentCamera

--▌Trigger‑bot state
local tbEnabled, knifeCheck, predictionTime, cooldown, fovRadius = true, true, 0, 0.1, 20
local toggleBind   = {type="Key",  code=Enum.KeyCode.T}     -- default
local awaitingBind = false
local lastShot = 0
local hitParts = {"humanoidrootpart","head"}
local meleeWords = {"knife","dagger","katana","sword","saber"}
local validMouseButtons = { Enum.UserInputType.MouseButton3 } -- add 4/5 if your mouse supports

--▌HBE state
local hbeEnabled, hbeVisual, hbeSize = false, false, 10

--▌Helpers
local function bindToString(b)
    return b.type=="Key"  and b.code.Name
        or  b.type=="Mouse" and (b.code.Name or "MouseBtn")
end
local function holdingKnife()
    if not knifeCheck then return false end
    local tool = LP.Character and LP.Character:FindFirstChildOfClass("Tool")
    if not tool then return false end
    local n = tool.Name:lower()
    for _,w in ipairs(meleeWords) do if n:find(w) then return true end end
    return false
end
local function validPart(p)
    if not p or not p.Parent or not p.Parent:FindFirstChild("Humanoid") then return false end
    for _,n in ipairs(hitParts) do if p.Name:lower()==n then return true end end
    return false
end
local function distToCursor(part)
    local v,vis = Cam:WorldToViewportPoint(part.Position)
    if not vis then return math.huge end
    local m = UIS:GetMouseLocation()
    return (Vector2.new(v.X,v.Y)-Vector2.new(m.X,m.Y)).Magnitude
end
local function click()
    if mouse1press then mouse1press() mouse1release()
    elseif mouse1click then mouse1click()
    else VU:Button1Down(Vector2.new(),Cam.CFrame) task.wait() VU:Button1Up(Vector2.new(),Cam.CFrame) end
end
local function isToggleInput(io)
    if io.KeyCode ~= Enum.KeyCode.Unknown then
        return toggleBind.type=="Key" and io.KeyCode == toggleBind.code
    elseif io.UserInputType.Name:match("^MouseButton") then
        return toggleBind.type=="Mouse" and io.UserInputType == toggleBind.code
    end
    return false
end

--▌GUI
local gui = Instance.new("ScreenGui",game.CoreGui) gui.Name="Niggalol/TGB" gui.ResetOnSpawn=false
local outer = Instance.new("Frame",gui) outer.Size,outer.Position=UDim2.fromOffset(310,430),UDim2.new(0,30,0,100)
outer.BackgroundColor3=Color3.fromRGB(28,28,28) outer.Active,outer.Draggable=true,true
Instance.new("UICorner",outer).CornerRadius=UDim.new(0,8)

local scroll = Instance.new("ScrollingFrame",outer); scroll.Size=UDim2.new(1,0,1,0); scroll.CanvasSize=UDim2.fromOffset(0,750)
scroll.ScrollBarThickness=6 scroll.BackgroundTransparency=1

local function lbl(txt,y,bold)
    local l=Instance.new("TextLabel",scroll) l.Position=UDim2.new(0,20,0,y); l.Size=UDim2.fromOffset(260,22)
    l.BackgroundTransparency=1 l.Font=bold and Enum.Font.GothamBold or Enum.Font.Gotham
    l.TextSize=14 l.TextColor3=Color3.new(1,1,1) l.TextXAlignment=Enum.TextXAlignment.Left l.Text=txt return l
end
local function btn(y)
    local b=Instance.new("TextButton",scroll) b.Position=UDim2.new(0,20,0,y); b.Size=UDim2.fromOffset(260,26)
    b.BackgroundColor3=Color3.fromRGB(40,40,40); b.Font=Enum.Font.GothamBold; b.TextSize=14; b.TextColor3=Color3.new(1,1,1)
    Instance.new("UICorner",b).CornerRadius=UDim.new(0,4) return b
end
local function box(y,value)
    local t=Instance.new("TextBox",scroll) t.Position=UDim2.new(0,165,0,y); t.Size=UDim2.fromOffset(90,24)
    t.Font=Enum.Font.Code t.TextSize=14 t.TextColor3=Color3.new(1,1,1) t.BackgroundColor3=Color3.fromRGB(40,40,40)
    t.Text=tostring(value) Instance.new("UICorner",t).CornerRadius=UDim.new(0,4) return t
end

lbl("Trigger‑Bot",0,true)
-- enable
local enBtn=btn(28)
local function refEn() enBtn.Text="Trigger‑Bot : "..(tbEnabled and"ON"or"OFF")
enBtn.BackgroundColor3=tbEnabled and Color3.fromRGB(0,170,0) or Color3.fromRGB(140,0,0) end
refEn(); enBtn.MouseButton1Click:Connect(function() tbEnabled=not tbEnabled refEn() end)

-- knife
local knBtn=enBtn:Clone(); knBtn.Parent=scroll; knBtn.Position=UDim2.new(0,20,0,66)
local function refKn() knBtn.Text="Knife Check : "..(knifeCheck and"ON"or"OFF")
knBtn.BackgroundColor3=knifeCheck and Color3.fromRGB(0,170,255) or Color3.fromRGB(90,90,90) end
refKn(); knBtn.MouseButton1Click:Connect(function() knifeCheck=not knifeCheck refKn() end)

-- radius
lbl("Hitbox Radius (px):",100)
local radBox=box(100,fovRadius)
radBox.FocusLost:Connect(function() local n=tonumber(radBox.Text); if n and n>=1 and n<=100 then fovRadius=n else radBox.Text=tostring(fovRadius) end end)

-- prediction
lbl("Prediction (s):",134); local prBox=box(134,predictionTime)
prBox.FocusLost:Connect(function() local n=tonumber(prBox.Text); if n and n>=0 and n<=1 then predictionTime=n else prBox.Text=tostring(predictionTime) end end)

-- cooldown
lbl("Cooldown (s):",168); local cdBox=box(168,cooldown)
cdBox.FocusLost:Connect(function() local n=tonumber(cdBox.Text); if n and n>=0 then cooldown=n else cdBox.Text=tostring(cooldown) end end)

-- keybind / mousebind
lbl("Toggle Bind:",202)
local keyLabel=lbl(bindToString(toggleBind),202,false); keyLabel.Position=UDim2.new(0,120,0,202)
local setB=btn(200); setB.Size=UDim2.fromOffset(80,24); setB.Position=UDim2.new(0,200,0,200); setB.Text="Set"
setB.MouseButton1Click:Connect(function() awaitingBind=true keyLabel.Text="Press..." end)

lbl("Hitbox Expander",240,true)
local hbeBtn=btn(268)
local function refHBE() hbeBtn.Text="Enable : "..(hbeEnabled and"ON"or"OFF")
hbeBtn.BackgroundColor3=hbeEnabled and Color3.fromRGB(0,170,0) or Color3.fromRGB(140,0,0) end
refHBE(); hbeBtn.MouseButton1Click:Connect(function() hbeEnabled=not hbeEnabled refHBE() end)

local visBtn=btn(306)
local function refVis() visBtn.Text="Visuals : "..(hbeVisual and"ON"or"OFF")
visBtn.BackgroundColor3=hbeVisual and Color3.fromRGB(0,170,255) or Color3.fromRGB(90,90,90) end
refVis(); visBtn.MouseButton1Click:Connect(function() hbeVisual=not hbeVisual refVis() end)

lbl("Hitbox Size:",340); local szBox=box(340,hbeSize)
szBox.FocusLost:Connect(function() local n=tonumber(szBox.Text); if n and n>=1 and n<=1000 then hbeSize=n else szBox.Text=tostring(hbeSize) end end)

lbl("Press P to hide / show",374).TextXAlignment=Enum.TextXAlignment.Center
lbl("made by anhchangm52",392).TextSize=12

-- hide & bind logic
UIS.InputBegan:Connect(function(io,gp)
    if gp then return end
    -- hide
    if io.KeyCode==Enum.KeyCode.P then gui.Enabled=not gui.Enabled return end

    -- capture new bind
    if awaitingBind then
        awaitingBind=false
        if io.KeyCode~=Enum.KeyCode.Unknown then
            toggleBind={type="Key",code=io.KeyCode}
        elseif table.find(validMouseButtons,io.UserInputType) then
            toggleBind={type="Mouse",code=io.UserInputType}
        else
            keyLabel.Text="Invalid" task.wait(0.6)
        end
        keyLabel.Text=bindToString(toggleBind)
        return
    end
   
    if isToggleInput(io) then tbEnabled=not tbEnabled refEn() end
end)

Run.RenderStepped:Connect(function()
    if not tbEnabled or holdingKnife() or tick()-lastShot<cooldown then return end
    local part=Mouse.Target
    if part and validPart(part) and distToCursor(part)<=fovRadius then
        task.spawn(function()
            local cap=part
            task.wait(predictionTime)
            if tbEnabled and Mouse.Target==cap and distToCursor(cap)<=fovRadius and not holdingKnife() then
                click(); lastShot=tick()
            end
        end)
    end
end)


Run.RenderStepped:Connect(function()
    for _,p in ipairs(Players:GetPlayers()) do
        if p~=LP and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            local r=p.Character.HumanoidRootPart
            if hbeEnabled then
                r.Size=Vector3.new(hbeSize,hbeSize,hbeSize) r.CanCollide=false
                if hbeVisual then r.Transparency=.4 r.Material=Enum.Material.ForceField r.BrickColor=BrickColor.Red()
                else r.Transparency=1 r.Material=Enum.Material.Plastic end
            else
                r.Size=Vector3.new(2,2,1) r.CanCollide=true r.Transparency=1 r.Material=Enum.Material.Plastic
            end
        end
    end
end)
]==])()
